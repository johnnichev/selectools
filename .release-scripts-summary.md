# Release Scripts - Summary

## What Was Created

Three release automation scripts and documentation have been added to your repository:

### 1. **scripts/release.py** (Python Script - Recommended)
   - Full-featured release automation
   - Dry-run mode for testing
   - Automatic CHANGELOG.md updates
   - Interactive confirmations
   - Version validation
   - Usage: `python3 scripts/release.py --version 0.3.1 --dry-run`

### 2. **scripts/release.sh** (Bash Script - Simple)
   - Quick and simple bash alternative
   - Fewer dependencies
   - Interactive confirmations
   - Usage: `./scripts/release.sh 0.3.1`

### 3. **scripts/README.md**
   - Detailed documentation for both scripts
   - Troubleshooting guide
   - Examples and usage patterns

### 4. **RELEASE.md** (Root Directory)
   - Complete release process guide
   - One-time setup instructions
   - Step-by-step checklist
   - Troubleshooting section

## Quick Start

```bash
# Test first (dry-run)
python3 scripts/release.py --version 0.3.1 --dry-run

# Actually release
python3 scripts/release.py --version 0.3.1

# Or use bash version
./scripts/release.sh 0.3.1
```

## What Happens When You Run the Script

1. ✅ Validates version format (semantic versioning)
2. ✅ Checks you're on main branch
3. ✅ Checks for uncommitted changes
4. ✅ Updates `pyproject.toml` version
5. ✅ Updates `CHANGELOG.md` (Python script only)
6. ✅ Creates commit
7. ✅ Creates git tag (e.g., `v0.3.1`)
8. ✅ Pushes to GitHub
9. ✅ Triggers GitHub Actions to publish to PyPI

## Prerequisites (One-Time Setup)

You need to add your PyPI API token to GitHub secrets:

1. Get token: https://pypi.org/manage/account/token/
2. Add to GitHub: https://github.com/johnnichev/selectools/settings/secrets/actions
3. Secret name: `PYPI_API_TOKEN`

See `RELEASE.md` for detailed setup instructions.

## Files Created

```
/Users/johnniche/projects/tool-calling/
├── RELEASE.md                    # Complete release guide
├── scripts/
│   ├── release.py               # Python release script
│   ├── release.sh               # Bash release script
│   └── README.md                # Scripts documentation
└── .release-scripts-summary.md  # This file
```

## Next Steps

1. **Review the scripts**: Check `scripts/release.py` and `scripts/release.sh`
2. **Read the guide**: See `RELEASE.md` for complete instructions
3. **Set up PyPI token**: Follow the prerequisites in `RELEASE.md`
4. **Test with dry-run**: `python3 scripts/release.py --version 0.3.1 --dry-run`
5. **Commit these scripts**: 
   ```bash
   git add scripts/ RELEASE.md
   git commit -m "Add automated release scripts"
   git push origin main
   ```

## Example Usage

```bash
# Scenario: You've fixed some bugs and want to release 0.3.1

# 1. Test what will happen
python3 scripts/release.py --version 0.3.1 --dry-run

# 2. Actually release
python3 scripts/release.py --version 0.3.1 --message "Fix streaming bugs"

# 3. Monitor GitHub Actions
# Go to: https://github.com/johnnichev/selectools/actions

# 4. Verify on PyPI
# Check: https://pypi.org/project/selectools/
```

## Benefits

✅ **Automated**: No manual version editing or git commands
✅ **Safe**: Dry-run mode and confirmations at each step
✅ **Consistent**: Same process every time
✅ **Fast**: Release in seconds instead of minutes
✅ **Error-proof**: Validates everything before proceeding

## Questions?

- See `RELEASE.md` for detailed instructions
- See `scripts/README.md` for script-specific docs
- Check `.github/workflows/ci.yml` for the CI/CD pipeline

